#!/usr/bin/env bash

set -euo pipefail

base_dir="$(cd "$(dirname "${BASH_SOURCE[0]}")"&&pwd)/../.."
source "$base_dir/utils.sh"

bookname=""
case "${1:-}" in
  "")
    warn "No subcmd provided for 'book'"
    exit 1
    ;;
  "-b")
    bookname="${2:-}"
    ;;
  *)
    bookname="$1"
    ;;
esac
if [[ -z "$bookname" ]]; then
  warn "Book name not provided. Use -b BOOKNAME to specify."
  exit 1
fi
info "Creating new book project: $bookname"

run "gh project create "